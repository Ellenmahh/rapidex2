$.validator.setDefaults({submitHandler:function(e){$.ajax({url:$(e).attr("action"),data:$(e).serialize(),type:"post",dataType:"json",success:function(e){e.success?e.redirect?window.location.href=e.redirect:alert("Dados salvo com sucesso!"):(console.log(e),e.errors&&($("div#errorsList").length<1?$("<div/>",{id:"errorsList"}).insertBefore("form"):$("div#errorsList").empty(),$.each(e.errors,function(e,r){$("div#errorsList").append(r+"<br />")})))}})},showErrors:function(e,r){this.currentElements.parents("label:first, div:first").find(".has-error").remove(),this.currentElements.parents(".innerB:first").removeClass("has-error"),$.each(r,function(e,r){var s=$(r.element),t=s.parents(s.parents("label:first").length?"label:first":"div:first");s.parents(".innerB:first").addClass("has-error"),t.find(".has-error").remove(),t.append('<p class="has-error help-block">'+r.message+"</p>")})}}),$(function(){$("#formPost").validate({rules:{"Post[post_titu]":"required","Post[post_text]":{required:!0,minlength:2}},messages:{"Post[post_titu]":"Digite um t√≠tulo para esse post","Post[post_text]":{required:"Digite um texto para seu post",minlength:"Esse texto deve ser maior que isso"}}})});