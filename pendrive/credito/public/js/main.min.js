var appSim=angular.module("simulador",["ngMorph","ui.utils.masks"]);appSim.directive("strongSecret",function(){return{restrict:"A",require:"ngModel",link:function(e,a,t,o){function n(e){return e>2500&&5e4>e?o.$setValidity("sixCharactersValidator",!0):o.$setValidity("sixCharactersValidator",!1),e}o.$parsers.push(n)}}}),appSim.controller("simCtrl",["$scope",function(e){e.outroValor="",e.formOutro="Outro",e.actionUrl="pessoal",e.outro={closeEl:".close",modal:{template:'<div class="col-md-12 calcular"><div class="row"><span class="close-x pull-right close">x</span></div><div class="row"><form id="formCalcular" name="formCalcular"><label>Valor</label><input required type="text" name="inp-calcular" class="form-control" ng-model="outroValor" ui-money-mask="0" strong-secret /><p ng-show="outroValor > 0 && !formCalcular.$valid"><small>Digite um valor entre R$ 2.500 a R$ 50.000</small></p><button type="button" ng-disabled="!formCalcular.$valid" ng-click="upOutroValor()">continuar</button></form></div></div>'}},e.validate=function(){},e.upOutroValor=function(){e.formOutro="R$ "+this.outroValor,angular.element("#valor-06").attr("value",this.outroValor+".00"),angular.element(".close").trigger("click")},e.cleanOutroValor=function(){e.formOutro="Outro"}}]),Start={init:function(){Start.owlCarousel(),Start.blogPage(),Start.contatoSend(),Start.openMenuMobile(),$(".maskCEP").mask("00000-000"),$(".maskCPF").mask("000.000.000-00"),$(".maskFONE").focusout(function(){var e,a;a=$(this),a.unmask(),e=a.val().replace(/\D/g,""),a.mask(e.length>10?"(00) 00000-0009":"(00) 0000-00009")}).trigger("focusout")},owlCarousel:function(){var e=$(".simple-owl-carousel");e.length>0&&e.each(function(){var e=$(this),a=e.data("items"),t=e.data("slidespeed"),o=e.data("pagination"),n=e.data("autoplay"),r=e.data("navigation"),i=e.data("custom-navigation");a||(a=4),a=parseInt(a,10),t||(t=500),t=parseInt(t,10),o=o?!0:!1,n=0==n?!1:!0,r=r?!0:!1,e.owlCarousel({items:a,pagination:o,slideSpeed:t,autoPlay:n,navigation:r,lazyLoad:!0,navigationText:[" Prev ","Next"]}),i?$("#"+i+" .next").on("click",function(){e.trigger("owl.next")}):!1,i?$("#"+i+" .prev").on("click",function(){e.trigger("owl.prev")}):!1})},blogPage:function(){$(".loadMore .btn").click(function(e){e.preventDefault();var a=$(this),t="#blog .items",o=a.data("page")+1,n=$("#blog #pagetotal").data("pagetotal");return"disabled"==a.attr("disabled")?!1:void $.ajax({url:"",data:{Post_page:o},dataType:"html",beforeSend:function(){$(".ajax-preloader").show()},success:function(e){var a=$(e).find("div.itemBlog");$.each(a,function(e,a){$(a).imagesLoaded(function(){$(t).append($(a))})}),$(".ajax-preloader").hide()}}).done(function(){o>=n&&a.attr("disabled",!0),a.data("page",o)})})},contatoSend:function(){$("#faleConosco-form button").click(function(e){e.preventDefault();var a=$(this).parents("form");$.ajax({url:"site/sendContato/",data:a.serialize(),type:"post",dataType:"json",beforeSend:function(){a.find("input, textarea").removeClass("error")},success:function(e){e.success?a.find("input, textarea").val(""):$.each(e.erros,function(e){$("#FaleConosco_"+e).addClass("error")}),$("#messageSend .dataMsg").html(e.msg),$("#messageSend").addClass("active")}})}),$("#messageSend .closeMessageSend").click(function(){$("#messageSend").removeClass("active")})},openMenuMobile:function(){$("#toogle-menu").click(function(){$(this).toggleClass("active"),$("#nav-principal").toggleClass("active")})},ajustePreSimulador:function(){var e=$(window).width(),a=$(".container").width(),t=($("#pre-simulador").width(),(e-a)/2+50+"px");$("#pre-simulador").css("padding-left",t)},abrirPopupAtendimento:function(){var e=300,a=600,t=99,o=99;return window.open("http://177.70.121.160/sisconsulta/atendimento/atendimentocreditovc","","width="+e+", height="+a+", top="+o+", left="+t+", scrollbars=yes, status=no, toolbar=no, location=no, directories=no, menubar=no, resizable=no, fullscreen=no"),!1}},Start.init(),function(e){"use strict";jQuery(window).load(function(){var a=jQuery(".isotope-container");if(a.length>0)jQuery().imagesLoaded&&jQuery().isotope&&(document.querySelector("body").offsetHeight<window.innerHeight&&(document.documentElement.style.overflowY="scroll"),a.imagesLoaded(function(){jQuery(".ajax-page-preloader").css({display:"none"}),a.fadeIn(1e3,function(){try{e("video.self-host").mediaelementplayer({enableAutosize:!0,videoWidth:-1,videoHeight:-1})}catch(a){}try{e("audio").mediaelementplayer({enableAutosize:!0,features:["playpause","progress","current"]})}catch(a){}}).isotope({layoutMode:"sloppyMasonry",itemSelector:".isotope-element"})}),jQuery(window).smartresize(function(){a.isotope("reLayout")}),jQuery("ol.portfolio-isotope-filters li").click(function(){var e=jQuery(this).attr("data-filter");return a.isotope({filter:e}),!1}));else{try{e("video.self-host").mediaelementplayer({enableAutosize:!0,videoWidth:-1,videoHeight:-1})}catch(t){}try{e("audio").mediaelementplayer({enableAutosize:!0,features:["playpause","progress","current"]})}catch(t){}}}),e("#loadMorePost").click(function(a){a.preventDefault();var t=e(this),o=t.data("container"),n=t.data("page")+1;return"disabled"==t.attr("disabled")?!1:void e.ajax({url:sBaseUrl+"/blog/modulo/",data:{Post_page:n},dataType:"html",beforeSend:function(){e(".ajax-preloader").show()},success:function(a){var r=e(a).find("div.element-wrap"),i=e(a).find("a#pagetotal").data("pagetotal");e.each(r,function(a,t){e(t).imagesLoaded(function(){e(o).append(e(t)).isotope("appended",e(t))})}),n>=i&&(t.css("opacity",".3"),t.attr("disabled",!0)),t.data("page",n),e(".ajax-preloader").hide()}})})}(jQuery);